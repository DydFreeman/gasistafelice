{% extends "base.html" %}
{% load url from future %}
{% load gas_base %}

{% block extraheads %}
<link href="/media/css/base.css" type="text/css" rel="stylesheet">
<style type="text/css">
    .box { border: 1px solid red; background-color: lightyellow; color: black; padding:0.5em; }
    .traditional-list { margin-left: 2em; padding:0.2em;}
    ol.traditional-list { list-style-type:upper-roman; }
    ul.traditional-list { list-style-type:circle; }
    li.traditional-list.true { list-style-image : url("/media/img/admin/icon-yes.gif"); }
    li.traditional-list.false { list-style-image : url("/media/img/admin/icon-no.gif"); }
    .done { text-decoration : line-through; }
</style>

{% endblock %}

{% block content %}
{% if messages %}
<ul class="messagelist">
    {% for message in messages %}
    <li{% if message.tags %} class="{{ message.tags }}"{% endif %}>{{ message }}</li>
    {% endfor %}
</ul>
{% endif %}

<h1>Gasista Felice - HappyGAS :)</h1>
<div style="clear:both;"> </div>
<table>
    <tr><td>

        <div style="margin: 2em 0.5em;">
        {% if form.errors %}
        {{ form.non_field_errors }}
        <p>Tieni presente che potresti non accedere perch√© ancora non hai alcun ruolo nel DES.<br />
        Fatti assegnare un ruolo dal referente informatico di un GAS con cui sei in contatto.
        A presto allora!</p>
        {% endif %}

        <form method="post" action="{% url 'des.views.login' %}">
        {% csrf_token %}
        <table>
        <tr>
            <td>{{ form.username.label_tag }}</td>
            <td>{{ form.username }}</td>
        </tr>
        <tr>
            <td>{{ form.password.label_tag }}</td>
            <td>{{ form.password }}</td>
        </tr>
        </table>

        <input type="submit" value="login" />
        <input type="hidden" name="next" value="{{ next }}" />
        </form>
        </div>
    </td><td>
        <div class="box">
            <h1><center>
                <p>Se non hai accesso</p>
                <p><a href="{% url 'des.views.registration' %}">Registrati ora</a></p>
            </center></h1>
            <div style="clear:both"> </div>
        </div>
    </td></tr>
</table>

<div>
<h1 style="margin-top: 1em; padding:0.2em;">
    Installazione a disposizione di
</h1>

<div style="clear:both;">

<table border="1" style="color:grey;">
{% for g in gas_list %}
    {% if forloop.first %}
        <tr>
    {% endif %}
        <td>{% render_gas g %}</td>
    {% if forloop.counter|divisibleby:"4" %}
        </tr><tr>
    {% endif %}
    {% if forloop.last %}
        </tr>
    {% endif %}
{% endfor %}
</table>


<h2>e altri amici che vorranno iscriversi al DES {{ des }}</h2>

{% endblock %}
